require Remote


class bbb : Object
end

shared class clsa
	public ca as int
	public cb as string
end

function myproc ( par as var) as int
	println(c.cb+c.ca)
	println(par)
	c.ca++
	Sleep(1000)
end


dim a as shared int=1
dim b as shared string
a++
println(a==2)


b="KKKK"
println(b)

dim c as shared clsa=new clsa()
c.ca=1
c.cb="l"
println(c.cb+c.ca)


gets()
dim node as RemoteNode=ConnectNode("127.0.0.1",3020)
dim t as RemoteThread=node.CreateThread(myproc,2)
t.Join(-1,1000)
node.Close()
println(node.host+","+node.port)
gets()
println(c.ca)

