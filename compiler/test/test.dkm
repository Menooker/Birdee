require Remote

shared class clsa
	public ca as int
	public cb as string
end

gets()
dim hosts as string[]={"192.168.88.153"}
dim ports as int[]={3020}
dim mem_hosts as string[]={"192.168.1.6"}
dim mem_ports as int[]={11211}
dim nodes as RemoteNode[]=ConnectNode(hosts,ports,mem_hosts,mem_ports)

dim a as shared int=1
dim b as shared string

dim t as RemoteThread=nodes[0].CreateThread(myproc,2)
t.Join(-1,1000)

nodes[0].Close()
println(nodes[0].host+","+nodes[0].port)
println(a)


function myproc ( par as var) as int

	println("var a="+a)
	a++
end
